<!DOCTYPE html>
<html>
<head>
    <title>2-04.Array</title>
</head>
<body>
    <div id="div1"></div>


    <script>
        //toString()
        var fruits = ["Banana", "Orange", "Apple"];
        console.log(fruits.toString());

        //join() 문자열을 더해주는데 fruits 기준으로 한다
        console.log(fruits.join(" , "));
        var txt = "Banana<br>";
        txt += "Orange<br>";
        txt += "Apple<br>";

        var arr = [];
        arr.push("Banana");
        arr.push("Orange");                
        arr.push("Apple");

        //document.getElementById("div1").innerHTML = txt;
        document.getElementById("div1").innerHTML = arr.join("<br>");

        //pop()
        //배열의 가장 마지막 element를 제거
        //pop() 하면, 제거된 element 리턴 함.
        var arr2 = fruits.pop();
        console.log(arr2);
        console.log(fruits); 
        
        //push()
        //배열에 마지막에 새 element 추가
        fruits.push("Kiwi");
        console.log(fruits);
        
        //shift()
        //베일의 첫뻔째 element 제거 함
        //shift() 리턴으로 제거된 element 변환

        var str = fruits.shift();
        console.log(str);
        console.log(fruits);
        
        //unshift()
        //배열의 첫번째에 새 element 추가
        fruits.unshift("Lemon");        
        console.log(fruits);

        fruits[0] = "Banana"; //배열을 바꾸기
        console.log(fruits);
        
        fruits[fruits.length-1] = "Lemon"; //특정위치에 넣을때
        console.log(fruits);

        //splice() - 중간에 element 를 제어하고싶을떄 사용
        //첫번째 - 시작위치
        //두번쨰 - 삭제할 element 수

        var fruits = ["Banana", "Orange", "Apple"];
        fruits.splice(1, 0, "Lemon", "Kiwi")
        console.log(fruits)

        // //concat() 배열을 합쳐주는 역활을 한다
        // var myBoys = ["Taejun"];
        // var myBoys2 = ["Junseo"];
        // var myChildren = myBoys.concat(myBoys2);
        // console.log(myChildren);

        // //slice() 해당부분만 가져오기
        // var fruits2 = fruits.slice(1,2); //0 1 2 3 4 기준으로 가져온다
        // console.log(fruits2);

        //sort() 정렬해주는 sort
        console.log(fruits.sort());
        
        var points = [40, 100, 70, 21, 99];
        //console.log(points.sort());
        points.sort(function(a, b){
            // if(a > b){
            //     return 1;
            // }else if(a < b){
            //     return -1;
            // }else {
            //     return 0;
            // }
            return b-a; //간단하게 이방법으로도 가능하다
        });
        
        console.log(points);
        points.reverse();// 반대로 뒤집을떄 사용
        console.log(points);

        var persons = [
            {name:"유재석", point:78, city:"서울"},
            {name:"김종국", point:92, city:"서울"},
            {name:"양세찬", point:76, city:"제주"},
            {name:"하하", point:81, city:"서울"}
        ];

        persons.sort(function(a,b){
            // if(a.point > b.point) {
            //     return 1;
            // }else if(a.point < b.point) {
            //     return -1;
            // }else{
            //     return 0;
            // }

            return a.point > b.point ? 1 : a.point < b.point ? -1 : 0;
            //if 문없이 작성할 경우 : 으로 표현한다
        });

        console.log(persons);

        //filter() 80점만 넘는 배열만 추출
        var pass = persons.filter(function(person){
            return person.point > 80;
        });

        console.log(pass);

        var jeju = persons.filter(function(person){
            return person.city == "제주";
        });

        console.log(jeju);

        var jeju = [];

        for(var i=0 ; i<persons.length ; i++){
            if(persons[i].city == "제주") {
                jeju.push(persons[i]);
            }
        }

        console.log(jeju);

        //reduce
        var arr1 = [1,2,3,4];
        var total = 0;
        for(var x of arr1){
            total += x;
        }

        console.log(total);
        
        //reduce
        //accumultor - 누산기
        //currenValue - 배열 읽으면서 현재값

        var total = arr1.reduce(function(a,c,i,arr){ 
            return a + c;
        });

        console.log(total);

        //map 주로 서버에서 해당 정보를 받아올때 사용한다.
        var userList = [
            {firstName:"재석", lastName:"유", email:"yu@gmail.com"},
            {firstName:"종국", lastName:"김", email:"kim@gmail.com"},                
            {firstName:"세찬", lastName:"양", email:"yang@gmail.com"},
            {firstName:"석진", lastName:"지", email:"ji@gmail.com"}
        ];

        console.log(userList);

        var userList2 = userList.map(function(user){ //user 로 선언
            return{fullName:user.lastName + user.firstName, firstName:user.firstName, lastName:user.lastName, email:user.email}            
        });

        console.log(userList2);    

        //filter, map 은 실무에서 많이 사용하기에 중요하다

   </script>
 </body>
</html>